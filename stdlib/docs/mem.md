
## std::mem
| Procedure | Description |
| ----------- | ------------- |
| memcopy_old | Copies `n` elements from `read_ptr` to `write_ptr`.<br /><br />If possible, this procedure will copy word-aligned words internally using `memcopy_words`<br />procedure, decreasing the total number of cycles required to make a copy.<br /><br />It is advised to copy small chunks of memory using `memcopy_elements` procedure instead, since it<br />won't have a computation logic overhead.<br /><br />Inputs:  [n, read_ptr, write_ptr]<br />Outputs: []<br /><br />Where:<br />- n is the number of elements which should be copied.<br />- read_ptr is the memory pointer where the elements to copy are stored.<br />- write_ptr is the memory pointer where the elements will be copied.<br /><br />Panics if:<br />- read_ptr and write_ptr are not a u32 values.<br /><br />Total cycles:<br />- if read and write pointers are mutually word-unaligned: 23 + 14 * num_elements<br />- if read and write pointers are mutually mutually word-aligned, it's equal to the sum of:<br />- prologue: 14 cycles<br />- prefix handling (worst case): 28 + 14 * num_prefix_elements, where num_prefix_elements is<br />the number of elements required to make the read (and write) pointer word-aligned<br />- words handling: 15 + 16 * num_words<br />- suffix handling: 9 + 14 * num_suffix_elements<br />- in total: 66 + 14 * num_prefix_elements + 16 * num_words + 14 * num_suffix_elements<br /> |
| memcopy | Copies `n` elements from `read_ptr` to `write_ptr`.<br /><br />If possible, this procedure will copy word-aligned words internally using `memcopy_words`<br />procedure, decreasing the total number of cycles required to make a copy.<br /><br />It is advised to copy small chunks of memory (num_elements < 12) using `memcopy_elements`<br />procedure instead, since it won't have a computation logic overhead.<br /><br />Inputs:  [n, read_ptr, write_ptr]<br />Outputs: []<br /><br />Where:<br />- n is the number of elements which should be copied.<br />- read_ptr is the memory pointer where the elements to copy are stored.<br />- write_ptr is the memory pointer where the elements will be copied.<br /><br />Panics if:<br />- read_ptr and write_ptr are not a u32 values.<br /><br />Total cycles:<br />- if read and write pointers are mutually word-unaligned: 21 + 14 * num_elements<br />- if read and write pointers are mutually mutually word-aligned, it's equal to the sum of:<br />- prologue: 13 cycles<br />- prefix handling: 31 + 14 * num_prefix_elements, where num_prefix_elements is<br />the number of elements required to make the read (and write) pointer word-aligned<br />- words handling: 15 + 16 * num_words<br />- suffix handling: 9 + 14 * num_suffix_elements<br />- in total: 68 + 14 * num_prefix_elements + 16 * num_words + 14 * num_suffix_elements<br /> |
| memcopy_words | Copies `n` words from `read_ptr` to `write_ptr`.<br /><br />`read_ptr` and `write_ptr` pointers *must be* word-aligned.<br /><br />Inputs:  [n, read_ptr, write_ptr]<br />Outputs: []<br /><br />Where:<br />- n is the number of words which should be copied.<br />- read_ptr is the memory pointer where the words to copy are stored.<br />- write_ptr is the memory pointer where the words will be copied.<br /><br />Total cycles: 15 + 16 * num_words<br /> |
| memcopy_elements | Copies `n` elements from `read_ptr` to `write_ptr`.<br /><br />It is advised to copy big chunks of memory (num_elements >= 12) using `memcopy` procedure<br />instead, since it will handle the memory more efficiently.<br /><br />Inputs:  [n, read_ptr, write_ptr]<br />Outputs: []<br /><br />Where:<br />- n is the number of elements which should be copied.<br />- read_ptr is the memory pointer where the elements to copy are stored.<br />- write_ptr is the memory pointer where the elements will be copied.<br /><br />Total cycles: 7 + 14 * num_elements<br /> |
| pipe_double_words_to_memory | Copies an even number of words from the advice_stack to memory, computing their permutation.<br /><br />Inputs:  [C, B, A, write_ptr, end_ptr]<br />Outputs: [C, B, A, write_ptr]<br /><br />Where:<br />- A is the capacity of the RPO hasher state<br />- C and B are the rate portion of the RPO hasher state<br />- write_ptr is the memory pointer where the words will be copied.<br />- end_ptr is the memory pointer where the copying should end.<br /><br />Notice that the `end_ptr - write_ptr` value must be positive and a multiple of 8.<br /><br />Total cycles: 9 + 6 * num_word_pairs<br /> |
| pipe_words_to_memory | Copies an arbitrary number of words from the advice stack to memory, computing their permutation.<br /><br />Inputs:  [num_words, write_ptr]<br />Outputs: [C, B, A, write_ptr']<br /><br />Where:<br />- num_words is the number of words which will be copied to the memory.<br />- write_ptr is the memory pointer where the words will be copied.<br />- write_ptr' is the memory pointer to the end of the copied words.<br />- A is the capacity of the RPO hasher state<br />- C and B are the rate portion of the RPO hasher state<br /><br />Total cycles:<br />- Even `num_words`: 43 + 9 * num_words / 2<br />- Odd `num_words`: 60 + 9 * round_down(num_words / 2)<br /> |
| pipe_preimage_to_memory | Moves an arbitrary number of words from the advice stack to memory and asserts it matches the<br />commitment.<br /><br />Inputs:  [num_words, write_ptr, COMMITMENT]<br />Outputs: [write_ptr']<br /><br />Where:<br />- num_words is the number of words which will be copied to the memory.<br />- write_ptr is the memory pointer where the words will be copied.<br />- write_ptr' is the memory pointer to the end of the copied words.<br />- COMMITMENT is the commitment that the one calculated during this procedure will be compared<br />with.<br /><br />Total cycles:<br />- Even `num_words`: 62 + 9 * num_words / 2<br />- Odd `num_words`: 79 + 9 * round_down(num_words / 2)<br /> |
| pipe_double_words_preimage_to_memory | Moves an even number of words from the advice stack to memory and asserts that their sequential<br />hash matches a given commitment.<br /><br />Inputs:  [num_words, write_ptr, COMMITMENT]<br />Outputs: [write_ptr']<br /><br />Where:<br />- num_words is the number of words which will be copied to the memory.<br />- write_ptr is the memory pointer where the words will be copied.<br />- write_ptr' is the memory pointer to the end of the copied words.<br />- COMMITMENT is the commitment that the one calculated during this procedure will be compared<br />with.<br /><br />Total cycles: 56 + 3 * num_words / 2<br /> |
